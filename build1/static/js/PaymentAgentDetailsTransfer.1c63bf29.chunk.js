(this["webpackJsonpdafri-frontend"]=this["webpackJsonpdafri-frontend"]||[]).push([[35],{220:function(e,t,n){"use strict";n.r(t);var s=n(35),a=n(39),r=n(4),i=n(6),o=n(18),l=n(12),c=n.n(l),d=n(267),h=n(0),u=n(10),p=n(236),m=n(253),f=n(265),j=n(47),b=n.n(j),g=n(66),v=n.n(g),O=n(2),x=function(e){var t,n=e.amount,s=e.asset,r=e.fee_payment_agent_percent,i=e.reference_number,o=e.operation_type,l=e.operation_status,d=e.created_at,h=v()(new Date(1e3*d)).isValid()?v()(new Date(1e3*d)).format("YYYY/MM/DD HH:mm:ss").split(" "):["",""],u=Object(a.a)(h,2),p=u[0],m=u[1],f=b()("table-status",{"table-status--deposit":"deposit"===o,"table-status--withdraw":"withdrawal"===o}),j=b()("table-status",{"table-status--active":"confirmed"===l,"table-status--inprogress":"waiting"===l,"table-status--error":"rejected"===l});return Object(O.jsxs)("div",{className:"tr",children:[Object(O.jsxs)("div",{className:"td",children:[Object(O.jsx)("div",{className:"td-hidden-name",children:c.a.translate("Pages.Users.PaymentAgent.Details.TransferItem.item1")}),Object(O.jsxs)("p",{children:[p," ",Object(O.jsx)("br",{}),m]})]}),Object(O.jsxs)("div",{className:"td",children:[Object(O.jsx)("div",{className:"td-hidden-name",children:c.a.translate("Pages.Users.PaymentAgent.Details.TransferItem.item2")}),Object(O.jsxs)("div",{className:"table-coin",children:[Object(O.jsx)("div",{className:"table-coin__icon",children:Object(O.jsx)("img",{src:null===s||void 0===s?void 0:s.img_path,alt:""})}),Object(O.jsx)("p",{className:"table-coin__name",children:null===s||void 0===s||null===(t=s.code)||void 0===t?void 0:t.toUpperCase()})]})]}),Object(O.jsxs)("div",{className:"td",children:[Object(O.jsx)("div",{className:"td-hidden-name",children:c.a.translate("Pages.Users.PaymentAgent.Details.TransferItem.item3")}),Object(O.jsx)("p",{className:f,children:o})]}),Object(O.jsxs)("div",{className:"td",children:[Object(O.jsx)("div",{className:"td-hidden-name",children:c.a.translate("Pages.Users.PaymentAgent.Details.TransferItem.item4")}),Object(O.jsx)("p",{children:n})]}),Object(O.jsxs)("div",{className:"td",children:[Object(O.jsxs)("div",{className:"td-hidden-name",children:[c.a.translate("Pages.Users.PaymentAgent.Details.TransferItem.item5")," \u2116"]}),Object(O.jsx)("p",{children:i})]}),Object(O.jsxs)("div",{className:"td",children:[Object(O.jsx)("div",{className:"td-hidden-name",children:c.a.translate("Pages.Users.PaymentAgent.Details.TransferItem.item6")}),Object(O.jsxs)("p",{children:[r,"%"]})]}),Object(O.jsxs)("div",{className:"td",children:[Object(O.jsx)("div",{className:"td-hidden-name",children:c.a.translate("Pages.Users.PaymentAgent.Details.TransferItem.item7")}),Object(O.jsx)("p",{className:j,children:l})]})]})};t.default=function(){var e=Object(o.b)(),t=Object(o.c)(d.d),n=null===t||void 0===t?void 0:t.last_page,l=Object(i.useState)(""),j=Object(a.a)(l,2),b=j[0],g=j[1],v=Object(i.useState)(null),y=Object(a.a)(v,2),T=y[0],w=y[1],N=Object(i.useState)(null),_=Object(a.a)(N,2),D=_[0],E=_[1],S=Object(i.useState)([]),A=Object(a.a)(S,2),C=A[0],P=A[1],L=Object(i.useState)(1),M=Object(a.a)(L,2),Y=M[0],R=M[1],U=Object(i.useState)(!0),H=Object(a.a)(U,2),k=H[0],V=H[1],B=Object(u.i)(function(e){return e.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{code_name:e.asset.code})}))}(C),b,["amount","code_name","operation_status","fee_payment_agent_percent","reference_number","operation_type"]).filter((function(e){return 1e3*e.created_at>=T&&(!D||1e3*e.created_at<=D+86399e3)})).map((function(e,t){return Object(O.jsx)(x,Object(r.a)({},e),e.created_at+t)}));Object(i.useEffect)((function(){return function(){e({type:h.a.CLEAR_PAYMENT_AGENT_TRANSFER_LIST})}}),[]),Object(i.useEffect)((function(){e({type:h.a.GET_PAYMENT_AGENT_TRANSFER_LIST_START,payload:{params:{current_page:Y,per_page:10}}})}),[Y]),Object(i.useEffect)((function(){var e;t&&(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.length)&&P((function(e){return[].concat(Object(s.a)(e),Object(s.a)(null===t||void 0===t?void 0:t.data))}))}),[t]);return Object(O.jsx)("div",{className:"main-form-box main-form-box--agent",children:Object(O.jsx)("div",{className:"main-form",children:Object(O.jsxs)("div",{className:"main-form__inside",children:[Object(O.jsxs)("div",{className:"table-panel",children:[Object(O.jsx)("p",{className:"item-title",children:c.a.translate("Pages.Users.PaymentAgent.Details.Transfer.item1")}),Object(O.jsxs)("div",{className:"panel-filters",children:[Object(O.jsxs)("div",{className:"filter-group",children:[Object(O.jsx)("div",{className:"filter",children:Object(O.jsxs)("div",{className:"field-wrap",children:[Object(O.jsx)(f.a,{selected:T,onChange:function(e){return w(Date.parse(e))},selectsStart:!0,startDate:T,endDate:D}),Object(O.jsx)("span",{className:"field-icon",children:Object(O.jsx)("svg",{className:"stroke",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(O.jsx)("path",{d:"M6 5V1V5ZM14 5V1V5ZM5 9H15H5ZM3 19H17C17.5304 19 18.0391 18.7893 18.4142 18.4142C18.7893 18.0391 19 17.5304 19 17V5C19 4.46957 18.7893 3.96086 18.4142 3.58579C18.0391 3.21071 17.5304 3 17 3H3C2.46957 3 1.96086 3.21071 1.58579 3.58579C1.21071 3.96086 1 4.46957 1 5V17C1 17.5304 1.21071 18.0391 1.58579 18.4142C1.96086 18.7893 2.46957 19 3 19Z",stroke:"#9195A4",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})}),Object(O.jsx)("div",{className:"filter-group__line",children:"-"}),Object(O.jsx)("div",{className:"filter",children:Object(O.jsxs)("div",{className:"field-wrap",children:[Object(O.jsx)(f.a,{selected:D,onChange:function(e){return E(Date.parse(e))},startDate:T,endDate:D,minDate:T}),Object(O.jsx)("span",{className:"field-icon",children:Object(O.jsx)("svg",{className:"stroke",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(O.jsx)("path",{d:"M6 5V1V5ZM14 5V1V5ZM5 9H15H5ZM3 19H17C17.5304 19 18.0391 18.7893 18.4142 18.4142C18.7893 18.0391 19 17.5304 19 17V5C19 4.46957 18.7893 3.96086 18.4142 3.58579C18.0391 3.21071 17.5304 3 17 3H3C2.46957 3 1.96086 3.21071 1.58579 3.58579C1.21071 3.96086 1 4.46957 1 5V17C1 17.5304 1.21071 18.0391 1.58579 18.4142C1.96086 18.7893 2.46957 19 3 19Z",stroke:"#9195A4",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})})]}),Object(O.jsxs)("div",{className:"filter-search",children:[Object(O.jsx)("div",{className:"filter-search__reset",children:Object(O.jsx)("button",{className:"button button--small-width",type:"button",onClick:function(){w(null),E(null),g("")},children:c.a.translate("Pages.Users.PaymentAgent.Details.Transfer.item2")})}),Object(O.jsx)("div",{className:"filter-search__field",children:Object(O.jsxs)("div",{className:"field-wrap",children:[Object(O.jsx)("input",{type:"text",className:"input input--icon-right",placeholder:c.a.translate("Pages.Users.PaymentAgent.Details.Transfer.item11"),value:b,onChange:function(e){return g(e.target.value.trim())}}),Object(O.jsx)("span",{className:"field-icon",children:Object(O.jsx)("svg",{className:"fill",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(O.jsx)("path",{d:"M8.04938 16.0928C9.83702 16.0928 11.5735 15.4963 12.9838 14.3977L18.3045 19.7191C18.7019 20.103 19.3353 20.092 19.7192 19.6945C20.0936 19.3067 20.0936 18.6919 19.7192 18.3042L14.3985 12.9828C17.1243 9.47344 16.4895 4.41858 12.9807 1.69241C9.47196 -1.03376 4.41791 -0.398932 1.69215 3.11039C-1.03361 6.61971 -0.398872 11.6746 3.10992 14.4007C4.52252 15.4983 6.26058 16.0937 8.04938 16.0928ZM3.77429 3.77179C6.13538 1.4103 9.96347 1.41025 12.3246 3.7717C14.6857 6.13315 14.6858 9.96181 12.3247 12.3233C9.9636 14.6848 6.13551 14.6848 3.77438 12.3234C3.77434 12.3234 3.77434 12.3234 3.77429 12.3233C1.4132 9.97906 1.39929 6.16436 3.74318 3.80291C3.75354 3.79251 3.76389 3.78215 3.77429 3.77179Z",fill:"#969696"})})})]})})]})]})]}),Object(O.jsx)("div",{className:"profile-table",children:Object(O.jsx)("div",{className:"table-box table-box--agent-transfer",id:"payment-agent-transfer-history-component-table-box",children:Object(O.jsxs)("div",{className:"table table--auto-td-height table--mob-scroll table--agent-transfer",children:[Object(O.jsx)("div",{className:"table-header",children:Object(O.jsxs)("div",{className:"tr",children:[Object(O.jsx)("div",{className:"td",children:Object(O.jsx)("div",{className:"td-name",children:c.a.translate("Pages.Users.PaymentAgent.Details.Transfer.item3")})}),Object(O.jsx)("div",{className:"td",children:Object(O.jsx)("div",{className:"td-name",children:c.a.translate("Pages.Users.PaymentAgent.Details.Transfer.item4")})}),Object(O.jsx)("div",{className:"td",children:Object(O.jsx)("div",{className:"td-name",children:c.a.translate("Pages.Users.PaymentAgent.Details.Transfer.item5")})}),Object(O.jsx)("div",{className:"td",children:Object(O.jsx)("div",{className:"td-name",children:c.a.translate("Pages.Users.PaymentAgent.Details.Transfer.item6")})}),Object(O.jsx)("div",{className:"td",children:Object(O.jsxs)("div",{className:"td-name",children:[c.a.translate("Pages.Users.PaymentAgent.Details.Transfer.item7")," ","\u2116"]})}),Object(O.jsx)("div",{className:"td",children:Object(O.jsx)("div",{className:"td-name",children:c.a.translate("Pages.Users.PaymentAgent.Details.Transfer.item8")})}),Object(O.jsx)("div",{className:"td",children:Object(O.jsx)("div",{className:"td-name",children:c.a.translate("Pages.Users.PaymentAgent.Details.Transfer.item9")})})]})}),Object(O.jsx)("div",{className:"table-body",children:Object(O.jsx)(m.a,{data:B,handleNext:function(){if(n){if(Y===n)return void V(!1);R(Y+1)}},hasMore:k,parentRef:"payment-agent-transfer-history-component-table-box",children:B.length?B:Object(O.jsx)(p.a,{text:c.a.translate("Pages.Users.PaymentAgent.Details.Transfer.item10")})})})]})})})]})})})}},236:function(e,t,n){"use strict";n(6);var s=n(2);t.a=function(e){var t=e.text;return Object(s.jsx)("p",{style:{textAlign:"center",padding:"15px 0"},children:t})}},253:function(e,t,n){"use strict";n(6);var s=n(259),a=n(2);t.a=function(e){var t=e.data,n=e.handleNext,r=e.hasMore,i=e.parentRef,o=e.children;return Object(a.jsx)(s.a,{dataLength:null===t||void 0===t?void 0:t.length,next:n,hasMore:r,scrollableTarget:i,children:o})}},259:function(e,t,n){"use strict";var s=n(6),a=n.n(s),r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};var i=function(){return i=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i.apply(this,arguments)};var o="Pixel",l="Percent",c={unit:l,value:.8};function d(e){return"number"===typeof e?{unit:l,value:100*e}:"string"===typeof e?e.match(/^(\d*(\.\d+)?)px$/)?{unit:o,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:l,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),c):(console.warn("scrollThreshold should be string or number"),c)}var h=function(e){function t(t){var n=e.call(this,t)||this;return n.lastScrollTop=0,n.actionTriggered=!1,n.startY=0,n.currentY=0,n.dragging=!1,n.maxPullDownDistance=0,n.getScrollableTarget=function(){return n.props.scrollableTarget instanceof HTMLElement?n.props.scrollableTarget:"string"===typeof n.props.scrollableTarget?document.getElementById(n.props.scrollableTarget):(null===n.props.scrollableTarget&&console.warn("You are trying to pass scrollableTarget but it is null. This might\n        happen because the element may not have been added to DOM yet.\n        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.\n      "),null)},n.onStart=function(e){n.lastScrollTop||(n.dragging=!0,e instanceof MouseEvent?n.startY=e.pageY:e instanceof TouchEvent&&(n.startY=e.touches[0].pageY),n.currentY=n.startY,n._infScroll&&(n._infScroll.style.willChange="transform",n._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},n.onMove=function(e){n.dragging&&(e instanceof MouseEvent?n.currentY=e.pageY:e instanceof TouchEvent&&(n.currentY=e.touches[0].pageY),n.currentY<n.startY||(n.currentY-n.startY>=Number(n.props.pullDownToRefreshThreshold)&&n.setState({pullToRefreshThresholdBreached:!0}),n.currentY-n.startY>1.5*n.maxPullDownDistance||n._infScroll&&(n._infScroll.style.overflow="visible",n._infScroll.style.transform="translate3d(0px, "+(n.currentY-n.startY)+"px, 0px)")))},n.onEnd=function(){n.startY=0,n.currentY=0,n.dragging=!1,n.state.pullToRefreshThresholdBreached&&(n.props.refreshFunction&&n.props.refreshFunction(),n.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame((function(){n._infScroll&&(n._infScroll.style.overflow="auto",n._infScroll.style.transform="none",n._infScroll.style.willChange="unset")}))},n.onScrollListener=function(e){"function"===typeof n.props.onScroll&&setTimeout((function(){return n.props.onScroll&&n.props.onScroll(e)}),0);var t=n.props.height||n._scrollableNode?e.target:document.documentElement.scrollTop?document.documentElement:document.body;n.actionTriggered||((n.props.inverse?n.isElementAtTop(t,n.props.scrollThreshold):n.isElementAtBottom(t,n.props.scrollThreshold))&&n.props.hasMore&&(n.actionTriggered=!0,n.setState({showLoader:!0}),n.props.next&&n.props.next()),n.lastScrollTop=t.scrollTop)},n.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:t.dataLength},n.throttledOnScrollListener=function(e,t,n,s){var a,r=!1,i=0;function o(){a&&clearTimeout(a)}function l(){var l=this,c=Date.now()-i,d=arguments;function h(){i=Date.now(),n.apply(l,d)}function u(){a=void 0}r||(s&&!a&&h(),o(),void 0===s&&c>e?h():!0!==t&&(a=setTimeout(s?u:h,void 0===s?e-c:e)))}return"boolean"!==typeof t&&(s=n,n=t,t=void 0),l.cancel=function(){o(),r=!0},l}(150,n.onScrollListener).bind(n),n.onStart=n.onStart.bind(n),n.onMove=n.onMove.bind(n),n.onEnd=n.onEnd.bind(n),n}return function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.componentDidMount=function(){if("undefined"===typeof this.props.dataLength)throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),"number"===typeof this.props.initialScrollY&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),"function"!==typeof this.props.refreshFunction))throw new Error('Mandatory prop "refreshFunction" missing.\n          Pull Down To Refresh functionality will not work\n          as expected. Check README.md for usage\'')},t.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},t.prototype.componentDidUpdate=function(e){this.props.dataLength!==e.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},t.getDerivedStateFromProps=function(e,t){return e.dataLength!==t.prevDataLength?i(i({},t),{prevDataLength:e.dataLength}):null},t.prototype.isElementAtTop=function(e,t){void 0===t&&(t=.8);var n=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,s=d(t);return s.unit===o?e.scrollTop<=s.value+n-e.scrollHeight+1:e.scrollTop<=s.value/100+n-e.scrollHeight+1},t.prototype.isElementAtBottom=function(e,t){void 0===t&&(t=.8);var n=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,s=d(t);return s.unit===o?e.scrollTop+n>=e.scrollHeight-s.value:e.scrollTop+n>=s.value/100*e.scrollHeight},t.prototype.render=function(){var e=this,t=i({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),n=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),s=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return a.a.createElement("div",{style:s,className:"infinite-scroll-component__outerdiv"},a.a.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(t){return e._infScroll=t},style:t},this.props.pullDownToRefresh&&a.a.createElement("div",{style:{position:"relative"},ref:function(t){return e._pullDown=t}},a.a.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!n&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},t}(s.Component);t.a=h},265:function(e,t,n){"use strict";var s=n(4),a=(n(6),n(293)),r=n.n(a),i=n(2);t.a=function(e){var t=e.selectedDate,n=e.onChange;return Object(i.jsx)(r.a,Object(s.a)({selected:t,startDate:t,onChange:n,wrapperClassName:"custom-datepicker"},e))}},267:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return l}));var s=function(e){return e.paymentAgent.paymentAgent},a=function(e){return e.paymentAgent.paymentAgent.paymentAgentCommission},r=function(e){return e.paymentAgent.paymentAgent.singlePaymentAgent},i=function(e){return e.paymentAgent.paymentAgentWithdrawal.withdrawalList},o=function(e){return e.paymentAgent.paymentAgentTransfer.transferList},l=function(e){return e.paymentAgent.paymentAgent.publicAgentsList}}}]);
//# sourceMappingURL=PaymentAgentDetailsTransfer.1c63bf29.chunk.js.map