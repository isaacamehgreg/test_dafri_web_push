(this["webpackJsonpdafri-frontend"]=this["webpackJsonpdafri-frontend"]||[]).push([[49],{205:function(e,t,s){"use strict";s.r(t);var n=s(6),i=s(12),a=s.n(i),o=(s(5),s(18)),r=s(37),l=s(11),c=s(2),d=function(e){var t=e.copyData,s=e.copyMassage;return Object(c.jsxs)("button",{className:"copy",type:"button",onClick:function(){window.navigator.clipboard.writeText(t),Object(l.a)({type:"success",timeOut:2500,message:s})},children:[a.a.translate("Pages.Users.Affiliate.CopyToClipboardButton.item1"),Object(c.jsx)("span",{className:"d-flex copy__icon",children:Object(c.jsxs)("svg",{className:"fill",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(c.jsx)("path",{d:"M11.4285 2.85693H1.71428C0.767509 2.85693 0 3.62444 0 4.57122V14.2855C0 15.2322 0.767509 15.9997 1.71428 15.9997H11.4285C12.3753 15.9997 13.1428 15.2322 13.1428 14.2855V4.57122C13.1428 3.62444 12.3753 2.85693 11.4285 2.85693Z",fill:"#D7CFFF"}),Object(c.jsx)("path",{d:"M14.2856 1.10692e-09H3.99992C3.05828 -3.3481e-05 2.29288 0.759507 2.28564 1.70112C2.28564 1.70571 2.28564 1.70969 2.28564 1.71428H11.4285C13.0056 1.71616 14.2837 2.99423 14.2856 4.57141V13.7143C14.2902 13.7143 14.2942 13.7143 14.2988 13.7143C15.2404 13.707 15.9999 12.9416 15.9999 12V1.71428C15.9999 0.767509 15.2324 1.10692e-09 14.2856 1.10692e-09Z",fill:"#D7CFFF"})]})})]})},h=function(e){return"".concat(null===e||void 0===e?void 0:e.slice(0,9),"...").concat(null===e||void 0===e?void 0:e.slice(-6))},u=function(){var e,t,s,n,i,l=Object(o.c)(r.h);return Object(c.jsxs)("div",{className:"affiliate-form",children:[Object(c.jsx)("div",{className:"field",children:Object(c.jsxs)("div",{className:"block-input",children:[Object(c.jsx)("p",{className:"block-input__name",children:a.a.translate("Pages.Users.Affiliate.InviteInfo.item1")}),Object(c.jsx)("div",{className:"block-input__value",children:Object(c.jsx)("p",{className:"block-input__value-item",children:(i=null===l||void 0===l||null===(e=l.user_data)||void 0===e?void 0:e.invite_key,"".concat(null===i||void 0===i?void 0:i.slice(0,6),"...").concat(null===i||void 0===i?void 0:i.slice(-6)))})}),Object(c.jsx)("div",{className:"input-action input-action--small",children:Object(c.jsx)(d,{copyData:null===l||void 0===l||null===(t=l.user_data)||void 0===t?void 0:t.invite_key,copyMassage:a.a.translate("Pages.Users.Affiliate.InviteInfo.item2")})})]})}),Object(c.jsx)("div",{className:"field field--mt",children:Object(c.jsxs)("div",{className:"block-input block-input--with-copy",children:[Object(c.jsx)("p",{className:"block-input__name",children:a.a.translate("Pages.Users.Affiliate.InviteInfo.item3")}),Object(c.jsx)("div",{className:"block-input__value",children:Object(c.jsx)("p",{className:"block-input__value-extra",children:h(null===l||void 0===l||null===(s=l.user_data)||void 0===s?void 0:s.invite_url)})}),Object(c.jsx)("div",{className:"input-action input-action--small",children:Object(c.jsx)(d,{copyData:null===l||void 0===l||null===(n=l.user_data)||void 0===n?void 0:n.invite_url,copyMassage:a.a.translate("Pages.Users.Affiliate.InviteInfo.item4")})})]})})]})},p=s(0),f=s(325),m=function(){var e=Object(o.b)(),t=Object(o.c)(f.a).info;return Object(n.useEffect)((function(){e({type:p.a.GET_REFERRAL_INFO_START})}),[e]),Object(c.jsxs)("div",{className:"affiliate-box__col",children:[Object(c.jsx)("p",{className:"block-title",children:a.a.translate("Pages.Users.Affiliate.ReferralAccountInfo.item1")}),Object(c.jsxs)("div",{className:"total-info-box",children:[Object(c.jsxs)("div",{className:"total-info",children:[Object(c.jsx)("p",{className:"total-info__name",children:a.a.translate("Pages.Users.Affiliate.ReferralAccountInfo.item2")}),Object(c.jsx)("div",{className:"total-info__value",children:Object(c.jsxs)("p",{children:[null===t||void 0===t?void 0:t.commission_rate,"%"]})})]}),Object(c.jsxs)("div",{className:"total-info",children:[Object(c.jsx)("p",{className:"total-info__name",children:a.a.translate("Pages.Users.Affiliate.ReferralAccountInfo.item3")}),Object(c.jsx)("div",{className:"total-info__value",children:Object(c.jsxs)("p",{children:[null===t||void 0===t?void 0:t.earned_DBA," DBA"]})})]}),Object(c.jsxs)("div",{className:"total-info",children:[Object(c.jsx)("p",{className:"total-info__name",children:a.a.translate("Pages.Users.Affiliate.ReferralAccountInfo.item4")}),Object(c.jsx)("div",{className:"total-info__value",children:Object(c.jsx)("p",{children:null===t||void 0===t?void 0:t.total_number_of_friends})})]})]})]})},v=function(){return Object(c.jsx)("div",{className:"affiliate-info-wrap",children:Object(c.jsx)("div",{className:"custom-container",children:Object(c.jsxs)("div",{className:"affiliate-box",children:[Object(c.jsxs)("div",{className:"affiliate-box__col",children:[Object(c.jsx)("p",{className:"block-title",children:a.a.translate("Pages.Users.Affiliate.Info.item1")}),Object(c.jsx)("div",{className:"affiliate-description",children:Object(c.jsx)("p",{children:a.a.translate("Pages.Users.Affiliate.Info.item2")})}),Object(c.jsx)(u,{})]}),Object(c.jsx)(m,{})]})})})},j=s(305),b=s(39),g=function(e){var t=e.currentTab,s=e.handleTab;return Object(c.jsx)("div",{className:"commission-switcher",children:Object(c.jsxs)("div",{className:"switcher",children:[Object(c.jsx)("button",{className:"switcher__item ".concat("buy"===t?"active":""," "),type:"button",name:"buy",onClick:s,children:a.a.translate("Pages.Users.Affiliate.Switcher.item1")}),Object(c.jsx)("button",{className:"switcher__item ".concat("sell"===t?"active":""," "),type:"button",name:"sell",onClick:s,children:a.a.translate("Pages.Users.Affiliate.Switcher.item2")}),Object(c.jsx)("button",{className:"switcher__item ".concat("withdraw"===t?"active":""," "),type:"button",name:"withdraw",onClick:s,children:a.a.translate("Pages.Users.Affiliate.Switcher.item3")})]})})},O=s(35),x=s(225),_=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){t.current=e}),[e]),t.current},y=s(253),w=s(10),N=function(e){var t,s=e.referral;return Object(c.jsxs)("div",{className:"tr",children:[Object(c.jsxs)("div",{className:"td",children:[Object(c.jsx)("div",{className:"td-hidden-name",children:a.a.translate("Pages.Users.Affiliate.CommissionHistory.HistoryItem.item1")}),Object(c.jsxs)("p",{className:"table-value",children:[null===s||void 0===s?void 0:s.amount," ",null===s||void 0===s||null===(t=s.asset_code)||void 0===t?void 0:t.toUpperCase()]})]}),Object(c.jsxs)("div",{className:"td",children:[Object(c.jsx)("div",{className:"td-hidden-name",children:a.a.translate("Pages.Users.Affiliate.CommissionHistory.HistoryItem.item2")}),Object(c.jsxs)("p",{children:[null===s||void 0===s?void 0:s.commission_rate_percent," %"]})]}),Object(c.jsxs)("div",{className:"td",children:[Object(c.jsx)("div",{className:"td-hidden-name",children:a.a.translate("Pages.Users.Affiliate.CommissionHistory.HistoryItem.item3")}),Object(c.jsx)("p",{className:"table-value",children:Object(w.r)(null===s||void 0===s?void 0:s.updated_at,"YYYY/MM/DD HH:MM:SS")})]})]})},T={display:"flex",justifyContent:"center",alignItems:"center",padding:"75px"},E=function(e){var t,s=e.type,i=e.currentPage,r=e.setCurrentPage,l=Object(o.b)(),d=Object(o.c)(f.a).referralDeductionList,h=Object(n.useState)([]),u=Object(b.a)(h,2),m=u[0],v=u[1],j=Object(n.useState)(!0),g=Object(b.a)(j,2),w=g[0],E=g[1],S=_(s),L=null===(t=d[s])||void 0===t?void 0:t.last_page;Object(n.useEffect)((function(){S!==s&&(v([]),E(!0),l({type:p.a.CLEAR_LIST_REFERRAL_DEDUCTIONS})),l({type:p.a.GET_LIST_REFERRAL_DEDUCTIONS_START,payload:{params:{type:s,current_page:i,per_page:9}}})}),[s,i]),Object(n.useEffect)((function(){var e,t;d[s]&&(null===(e=d[s])||void 0===e||null===(t=e.data)||void 0===t?void 0:t.length)&&v((function(e){var t;return[].concat(Object(O.a)(e),Object(O.a)(null===(t=d[s])||void 0===t?void 0:t.data))}))}),[d,s]);return Object(c.jsx)("div",{className:"table-body",children:Object(c.jsx)(y.a,{data:m,handleNext:function(){if(L){if(i===L)return void E(!1);r(i+1)}},hasMore:w,parentRef:"commision-history-".concat(s,"-component-table"),children:m.length?null===m||void 0===m?void 0:m.map((function(e){return Object(c.jsx)(N,{referral:e},Object(x.a)())})):Object(c.jsx)("div",{className:"nothing-to-show",style:T,children:a.a.translate("Pages.Users.Affiliate.CommissionHistory.HistoryLists.item1")})})})},S=function(){return Object(c.jsx)("div",{className:"table-header",children:Object(c.jsxs)("div",{className:"tr",children:[Object(c.jsx)("div",{className:"td",children:Object(c.jsx)("div",{className:"td-name",children:a.a.translate("Pages.Users.Affiliate.CommissionHistory.TableHead.item1")})}),Object(c.jsx)("div",{className:"td",children:Object(c.jsx)("div",{className:"td-name",children:a.a.translate("Pages.Users.Affiliate.CommissionHistory.TableHead.item2")})}),Object(c.jsx)("div",{className:"td",children:Object(c.jsx)("div",{className:"td-name",children:a.a.translate("Pages.Users.Affiliate.CommissionHistory.TableHead.item3")})})]})})},L=function(){var e=Object(n.useState)("buy"),t=Object(b.a)(e,2),s=t[0],i=t[1],r=Object(n.useState)(1),l=Object(b.a)(r,2),d=l[0],h=l[1],u=Object(o.b)();return Object(n.useEffect)((function(){return function(){u({type:p.a.CLEAR_LIST_REFERRAL_DEDUCTIONS})}}),[]),Object(c.jsx)("section",{className:"page-section",children:Object(c.jsxs)("div",{className:"custom-container",children:[Object(c.jsx)("p",{className:"section-title section-title--center",children:a.a.translate("Pages.Users.Affiliate.CommissionHistory.item1")}),Object(c.jsxs)("div",{className:"affiliate-commission-wrap",children:[Object(c.jsx)(g,{currentTab:s,handleTab:function(e){i(e.target.name),h(1)}}),Object(c.jsx)("div",{className:"commission-history-wrap",children:Object(c.jsx)("div",{className:"commission-history",id:"commision-history-".concat(s,"-component-table"),children:Object(c.jsxs)("div",{className:"table table--auto-td-height table--affiliate-commission",children:[Object(c.jsx)(S,{}),Object(c.jsx)(E,{type:s,currentPage:d,setCurrentPage:h})]})})})]})]})})};t.default=function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("section",{className:"info-wave-section info-wave-section--type2",children:[Object(c.jsxs)("div",{className:"info-wave-section__inner",children:[Object(c.jsx)("div",{className:"section-circle"}),Object(c.jsx)("div",{className:"custom-container",children:Object(c.jsxs)("div",{className:"section-block",children:[Object(c.jsx)("p",{className:"section-title",children:a.a.translate("Pages.Users.Affiliate.item1")}),Object(c.jsx)("div",{className:"section-block__subtitle",children:Object(c.jsx)("p",{children:a.a.translate("Pages.Users.Affiliate.item2")})})]})})]}),Object(c.jsx)("div",{className:"info-wave-section__wave info-wave-section__wave--type2",children:Object(c.jsx)("img",{src:j.a,alt:""})})]}),Object(c.jsx)(v,{}),Object(c.jsx)(L,{})]})}},253:function(e,t,s){"use strict";s(6);var n=s(259),i=s(2);t.a=function(e){var t=e.data,s=e.handleNext,a=e.hasMore,o=e.parentRef,r=e.children;return Object(i.jsx)(n.a,{dataLength:null===t||void 0===t?void 0:t.length,next:s,hasMore:a,scrollableTarget:o,children:r})}},259:function(e,t,s){"use strict";var n=s(6),i=s.n(n),a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])},a(e,t)};var o=function(){return o=Object.assign||function(e){for(var t,s=1,n=arguments.length;s<n;s++)for(var i in t=arguments[s])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};var r="Pixel",l="Percent",c={unit:l,value:.8};function d(e){return"number"===typeof e?{unit:l,value:100*e}:"string"===typeof e?e.match(/^(\d*(\.\d+)?)px$/)?{unit:r,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:l,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),c):(console.warn("scrollThreshold should be string or number"),c)}var h=function(e){function t(t){var s=e.call(this,t)||this;return s.lastScrollTop=0,s.actionTriggered=!1,s.startY=0,s.currentY=0,s.dragging=!1,s.maxPullDownDistance=0,s.getScrollableTarget=function(){return s.props.scrollableTarget instanceof HTMLElement?s.props.scrollableTarget:"string"===typeof s.props.scrollableTarget?document.getElementById(s.props.scrollableTarget):(null===s.props.scrollableTarget&&console.warn("You are trying to pass scrollableTarget but it is null. This might\n        happen because the element may not have been added to DOM yet.\n        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.\n      "),null)},s.onStart=function(e){s.lastScrollTop||(s.dragging=!0,e instanceof MouseEvent?s.startY=e.pageY:e instanceof TouchEvent&&(s.startY=e.touches[0].pageY),s.currentY=s.startY,s._infScroll&&(s._infScroll.style.willChange="transform",s._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},s.onMove=function(e){s.dragging&&(e instanceof MouseEvent?s.currentY=e.pageY:e instanceof TouchEvent&&(s.currentY=e.touches[0].pageY),s.currentY<s.startY||(s.currentY-s.startY>=Number(s.props.pullDownToRefreshThreshold)&&s.setState({pullToRefreshThresholdBreached:!0}),s.currentY-s.startY>1.5*s.maxPullDownDistance||s._infScroll&&(s._infScroll.style.overflow="visible",s._infScroll.style.transform="translate3d(0px, "+(s.currentY-s.startY)+"px, 0px)")))},s.onEnd=function(){s.startY=0,s.currentY=0,s.dragging=!1,s.state.pullToRefreshThresholdBreached&&(s.props.refreshFunction&&s.props.refreshFunction(),s.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame((function(){s._infScroll&&(s._infScroll.style.overflow="auto",s._infScroll.style.transform="none",s._infScroll.style.willChange="unset")}))},s.onScrollListener=function(e){"function"===typeof s.props.onScroll&&setTimeout((function(){return s.props.onScroll&&s.props.onScroll(e)}),0);var t=s.props.height||s._scrollableNode?e.target:document.documentElement.scrollTop?document.documentElement:document.body;s.actionTriggered||((s.props.inverse?s.isElementAtTop(t,s.props.scrollThreshold):s.isElementAtBottom(t,s.props.scrollThreshold))&&s.props.hasMore&&(s.actionTriggered=!0,s.setState({showLoader:!0}),s.props.next&&s.props.next()),s.lastScrollTop=t.scrollTop)},s.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:t.dataLength},s.throttledOnScrollListener=function(e,t,s,n){var i,a=!1,o=0;function r(){i&&clearTimeout(i)}function l(){var l=this,c=Date.now()-o,d=arguments;function h(){o=Date.now(),s.apply(l,d)}function u(){i=void 0}a||(n&&!i&&h(),r(),void 0===n&&c>e?h():!0!==t&&(i=setTimeout(n?u:h,void 0===n?e-c:e)))}return"boolean"!==typeof t&&(n=s,s=t,t=void 0),l.cancel=function(){r(),a=!0},l}(150,s.onScrollListener).bind(s),s.onStart=s.onStart.bind(s),s.onMove=s.onMove.bind(s),s.onEnd=s.onEnd.bind(s),s}return function(e,t){function s(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}(t,e),t.prototype.componentDidMount=function(){if("undefined"===typeof this.props.dataLength)throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),"number"===typeof this.props.initialScrollY&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),"function"!==typeof this.props.refreshFunction))throw new Error('Mandatory prop "refreshFunction" missing.\n          Pull Down To Refresh functionality will not work\n          as expected. Check README.md for usage\'')},t.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},t.prototype.componentDidUpdate=function(e){this.props.dataLength!==e.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},t.getDerivedStateFromProps=function(e,t){return e.dataLength!==t.prevDataLength?o(o({},t),{prevDataLength:e.dataLength}):null},t.prototype.isElementAtTop=function(e,t){void 0===t&&(t=.8);var s=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,n=d(t);return n.unit===r?e.scrollTop<=n.value+s-e.scrollHeight+1:e.scrollTop<=n.value/100+s-e.scrollHeight+1},t.prototype.isElementAtBottom=function(e,t){void 0===t&&(t=.8);var s=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight,n=d(t);return n.unit===r?e.scrollTop+s>=e.scrollHeight-n.value:e.scrollTop+s>=n.value/100*e.scrollHeight},t.prototype.render=function(){var e=this,t=o({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),s=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),n=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return i.a.createElement("div",{style:n,className:"infinite-scroll-component__outerdiv"},i.a.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(t){return e._infScroll=t},style:t},this.props.pullDownToRefresh&&i.a.createElement("div",{style:{position:"relative"},ref:function(t){return e._pullDown=t}},i.a.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!s&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},t}(n.Component);t.a=h},305:function(e,t,s){"use strict";t.a=s.p+"static/media/top-section-wave2.7356f642.svg"},325:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var n=function(e){return e.affiliate}}}]);
//# sourceMappingURL=UserAffiliate.32103a17.chunk.js.map