{"version":3,"sources":["redux/users/verification/selectors.js","../node_modules/@sumsub/websdk/dist/index.esm.js","components/Pages/Users/Verification/ModalIframe/index.jsx","components/Pages/Users/Verification/index.jsx","styles/img/closeIcon.svg"],"names":["kycSelector","state","kyc","kycTokenSelector","token","accessToken","kycTokenUrlSelector","apiUrl","t","Object","assign","e","i","n","arguments","length","o","prototype","hasOwnProperty","call","apply","this","iframe","iframeId","sessionId","$container","onMessage","onSdkMessage","baseUrl","config","callbacks","options","launch","addViewportTag","createIframe","Math","floor","random","registerEventListener","src","getIframeSrc","console","error","document","getElementsByName","createElement","setAttribute","head","appendChild","querySelector","width","scrolling","allow","firstChild","removeChild","indexOf","window","addEventListener","origin","data","method","contentWindow","frameId","postMessage","adaptIframeHeight","style","height","code","callExpirationHandler","onError","expirationHandler","legacy","handler","updateAccessToken","then","message","String","destroy","removeEventListener","eventHandlers","anyEventHandler","Error","onTestEnv","withBaseUrl","withConf","withOptions","on","build","s","r","a","d","lang","email","phone","country","uiConf","i18n","documentsByCountries","debugEnabled","flowName","withAccessToken","debug","h","ModalIframe","url","name","messages","loading","useSelector","useEffect","snsWebSdk","Promise","resolve","type","payload","className","onClick","closeModal","closeIcon","alt","L","translate","Loader","id","Verification","dispatch","useDispatch","user","kycUserSelector","tokenSelector","kycUrl","useState","setToken","personStatus","setPersonStatus","sumsub","isMobilePhone","test","navigator","userAgent","types","GET_SUMSUB_TOKEN_START","status","getWordKYCStatus","redirectLocation","useLocation","search","isMobile","to","routes","Auth","Login","path","formattedDate","moment","Date","last_login","format","firstName","first_name","slice","lastName","last_name","userStatusClasses","classNames","hiddenEmail","hideEmail","pathname","Static","PrivacyAndTerms","viewBox","fill","xmlns","stroke","strokeWidth","strokeLinecap","strokeLinejoin","last_login_ip","cx","cy","openModal"],"mappings":"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","file":"static/js/Verification page.a3e23f7e.chunk.js","sourcesContent":["export const kycSelector = state => state.kyc;\nexport const kycTokenSelector = state => state.kyc?.token?.accessToken?.token;\nexport const kycTokenUrlSelector = state => state.kyc?.token?.apiUrl;\n","var t=function(){return(t=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},e=function(){function e(t,e,i,n){var o=this;this.iframe=null,this.iframeId=null,this.sessionId=\"\",this.$container=null,this.onMessage=function(t){o.onSdkMessage(t)},this.baseUrl=t,this.config=e,this.callbacks=i,this.options=n}return e.prototype.launch=function(t){this.options.addViewportTag&&this.addViewportTag(),this.iframe=this.createIframe(t),this.sessionId=\"\",this.iframeId=\"id_\"+Math.floor(1e8*Math.random()),this.iframe&&this.config?(this.registerEventListener(),this.iframe.src=this.getIframeSrc()):console.error(\"Idensic was not initialized since either provided element was not found in the DOM or invalid config\")},e.prototype.addViewportTag=function(){var t=document.getElementsByName(\"viewport\");if(!t||0===t.length){var e=document.createElement(\"meta\");e.setAttribute(\"name\",\"viewport\"),e.setAttribute(\"content\",\"width=device-width,user-scalable=yes\"),document.head.appendChild(e)}},e.prototype.createIframe=function(t){var e=\"string\"==typeof t?document.querySelector(t):t;if(!e)return console.error(\"Provide a valid selector for the iframe container\"),null;this.$container=e;var i=document.createElement(\"iframe\");for(i.width=\"100%\",i.scrolling=\"no\",i.allow=\"camera; microphone\",i.setAttribute(\"frameborder\",\"0\");e.firstChild;)e.removeChild(e.firstChild);return e.appendChild(i),i},e.prototype.getIframeSrc=function(){var t=this.baseUrl.indexOf(\"localhost\")>-1?\"\":\"/idensic\";return this.baseUrl+t+\"/websdk.html\"+(\"?_=\"+this.iframeId)},e.prototype.registerEventListener=function(){window.addEventListener(\"message\",this.onMessage)},e.prototype.onSdkMessage=function(e){var i;if(this.baseUrl===e.origin){var n=e.data;if(n.method&&~n.method.indexOf(\"idCheck\")&&(!this.sessionId||this.sessionId===n.sessionId)&&(null===(i=this.iframe)||void 0===i?void 0:i.contentWindow)){\"idCheck.onReady\"==n.method&&n.frameId===this.iframeId&&(this.sessionId=n.sessionId,this.iframe.contentWindow.postMessage(t({method:\"idCheck.init\"},this.config),\"*\")),\"idCheck.onResize\"==n.method&&this.options.adaptIframeHeight&&(this.iframe.style.height=n.height+\"px\");var o=n.method;delete n.method,delete n.frameId,delete n.sessionId,\"idCheck.onError\"===o&&\"invalid-token\"===n.code?this.callExpirationHandler():\"idCheck.onError\"===o&&\"function\"==typeof this.callbacks.onError?this.callbacks.onError(n):\"function\"==typeof this.callbacks.onMessage&&this.callbacks.onMessage(o,n)}}},e.prototype.callExpirationHandler=function(){var t=this,e=this.callbacks.expirationHandler;e.legacy?e.handler((function(e){return t.updateAccessToken(e)})):e.handler().then((function(e){return t.updateAccessToken(e)}),(function(e){null!=e||(e=\"Failed to update access token\"),e.message&&(e=e.message),\"string\"!=typeof e&&(e=String(e)),t.updateAccessToken(null,e)}))},e.prototype.updateAccessToken=function(t,e){var i,n;null===(n=null===(i=this.iframe)||void 0===i?void 0:i.contentWindow)||void 0===n||n.postMessage({method:\"idCheck.updateAccessToken\",accessToken:t,error:e},\"*\")},e.prototype.destroy=function(){for(window.removeEventListener(\"message\",this.onMessage);this.$container&&this.$container.firstChild;)this.$container.removeChild(this.$container.firstChild);this.$container=null},e}(),i=function(){function t(t,e){if(this.baseUrl=\"https://api.sumsub.com\",this.config=null,this.eventHandlers={},this.anyEventHandler=null,this.options={adaptIframeHeight:!0,addViewportTag:!0},\"string\"!=typeof t)throw new Error(\"Access token must be a string\");if(\"function\"!=typeof e)throw new Error(\"updateAccessToken callback is required\");this.accessToken=t,this.updateAccessToken=e}return t.prototype.onTestEnv=function(){return this.baseUrl=\"https://test-api.sumsub.com\",this},t.prototype.withBaseUrl=function(t){return this.baseUrl=t,this},t.prototype.withConf=function(t){return this.config=t,this},t.prototype.withOptions=function(t){return t.hasOwnProperty(\"adaptIframeHeight\")&&(this.options.adaptIframeHeight=t.adaptIframeHeight),t.hasOwnProperty(\"addViewportTag\")&&(this.options.addViewportTag=t.addViewportTag),this},t.prototype.on=function(t,e){return this.eventHandlers[t]=e,this},t.prototype.onMessage=function(t){return this.anyEventHandler=t,this},t.prototype.build=function(){var t,i,n,o,s,r,a,d=this;return new e(this.baseUrl,{accessToken:this.accessToken,lang:null===(t=this.config)||void 0===t?void 0:t.lang,email:null===(i=this.config)||void 0===i?void 0:i.email,phone:null===(n=this.config)||void 0===n?void 0:n.phone,country:null===(o=this.config)||void 0===o?void 0:o.country,uiConf:null===(s=this.config)||void 0===s?void 0:s.uiConf,i18n:null===(r=this.config)||void 0===r?void 0:r.i18n,documentsByCountries:null===(a=this.config)||void 0===a?void 0:a.documentsByCountries},{expirationHandler:{legacy:!1,handler:this.updateAccessToken},onMessage:function(t,e){var i;d.eventHandlers[t]?d.eventHandlers[t](e):null===(i=d.anyEventHandler)||void 0===i||i.call(d,t,e)}},this.options)},t}(),n=function(){function t(t,e){this.debugEnabled=!1,this.options={adaptIframeHeight:!0,addViewportTag:!0},this.config=null,this.accessToken=null,this.expirationHandler=null,this.baseUrl=t,this.flowName=e}return t.prototype.withAccessToken=function(t,e){if(this.accessToken=t,!e||\"function\"!=typeof e)throw new Error('Invalid parameter, \"expirationHandler\" must be a function');return this.expirationHandler=e,this},t.prototype.debug=function(t){return this.debugEnabled=t,this},t.prototype.withOptions=function(t){return t.hasOwnProperty(\"adaptIframeHeight\")&&(this.options.adaptIframeHeight=t.adaptIframeHeight),t.hasOwnProperty(\"addViewportTag\")&&(this.options.addViewportTag=t.addViewportTag),this},t.prototype.withConf=function(t){return this.config=t,this},t.prototype.build=function(){var t,i,n,o,s,r,a,d,h;if(!this.accessToken||!this.expirationHandler)throw new Error(\"Configure access token end the expiration handler before\");return new e(this.baseUrl,{accessToken:this.accessToken,flowName:this.flowName,lang:null===(t=this.config)||void 0===t?void 0:t.lang,email:null===(i=this.config)||void 0===i?void 0:i.email,phone:null===(n=this.config)||void 0===n?void 0:n.phone,country:null===(o=this.config)||void 0===o?void 0:o.country,uiConf:null===(s=this.config)||void 0===s?void 0:s.uiConf,i18n:null===(r=this.config)||void 0===r?void 0:r.i18n,documentsByCountries:null===(a=this.config)||void 0===a?void 0:a.documentsByCountries},{expirationHandler:{legacy:!0,handler:this.expirationHandler},onMessage:null===(d=this.config)||void 0===d?void 0:d.onMessage,onError:null===(h=this.config)||void 0===h?void 0:h.onError},{adaptIframeHeight:this.options.adaptIframeHeight,addViewportTag:this.options.addViewportTag,debug:this.debugEnabled})},t}(),o={Builder:function(t,e){return new n(t,e)},init:function(t,e){return new i(t,e)}};export{o as default};\n","import React, { useEffect } from 'react';\nimport L from 'i18n-react';\nimport snsWebSdk from '@sumsub/websdk';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { kycSelector } from '../../../../../redux/users/verification/selectors';\nimport { closeModal } from '../../../../Base/Modal';\nimport closeIcon from '../../../../../styles/img/closeIcon.svg';\nimport Loader from '../../../../Base/Loader';\nimport types from '../../../../../redux/types';\n\nconst ModalIframe = ({ accessToken, url, name, email, phone, messages }) => {\n  const { loading } = useSelector(kycSelector);\n\n  const launchWebSdk = () => {\n    const snsWebSdkInstance = snsWebSdk\n      .init(accessToken, () => Promise.resolve(accessToken))\n      .withConf({\n        lang: 'en',\n        email,\n        phone,\n        i18n: messages,\n        onMessage: (type, payload) => {\n          // console.log('WebSDK onMessage', type, payload);\n        },\n        onError: error => {\n          console.error('WebSDK onError', error);\n        },\n      })\n      .build();\n\n    snsWebSdkInstance.launch('#kyc-sumsub-verify');\n  };\n\n  useEffect(() => {\n    if (!loading) launchWebSdk();\n  }, [loading]);\n\n  return (\n    <div className=\"modal modal--medium\">\n      <button className=\"close-modal\" onClick={closeModal}>\n        <img src={closeIcon} alt=\"Close\" />\n      </button>\n\n      <div className=\"modal-header\">\n        <p className=\"modal-title\">\n          {L.translate('Pages.Users.Verification.ModalIframe.item1')}\n        </p>\n      </div>\n\n      <div className=\"modal-body\">\n        {loading ? <Loader /> : <div id=\"kyc-sumsub-verify\" />}\n      </div>\n    </div>\n  );\n};\n\nexport default ModalIframe;\n","import React, { useEffect, useState } from 'react';\nimport L from 'i18n-react';\nimport moment from 'moment';\nimport classNames from 'classnames';\nimport { Link, Redirect, useLocation } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { kycUserSelector } from '../../../../redux/auth/selectors';\nimport {\n  kycTokenSelector,\n  kycTokenUrlSelector,\n} from '../../../../redux/users/verification/selectors';\nimport { hideEmail } from '../../../../services/helpers';\nimport { openModal } from '../../../Base/Modal';\nimport types from '../../../../redux/types';\nimport ModalIframe from './ModalIframe';\nimport routes from '../../../../routes';\n\nconst Verification = () => {\n  const dispatch = useDispatch();\n  const user = useSelector(kycUserSelector);\n  const tokenSelector = useSelector(kycTokenSelector);\n  const kycUrl = useSelector(kycTokenUrlSelector);\n\n  const [token, setToken] = useState('');\n\n  // Word person status\n  const [personStatus, setPersonStatus] = useState(null);\n\n  const sumsub = user?.sumsub;\n  const isMobilePhone = /Mobi/.test(navigator.userAgent);\n\n  const getWordKYCStatus = status => {\n    const statusCode = status?.status;\n\n    switch (statusCode) {\n      case null:\n        setPersonStatus('Unverified');\n        break;\n\n      case 0:\n        setPersonStatus('Rejected');\n        break;\n\n      case 1:\n        setPersonStatus('Verified');\n        break;\n\n      default:\n        setPersonStatus('Unverified');\n    }\n  };\n\n  useEffect(() => {\n    dispatch({ type: types.GET_SUMSUB_TOKEN_START });\n  }, []);\n\n  useEffect(() => {\n    if (tokenSelector) setToken(tokenSelector);\n  }, [tokenSelector]);\n\n  useEffect(() => {\n    getWordKYCStatus(sumsub);\n  }, [dispatch, user]);\n\n  const redirectLocation = useLocation().search;\n\n  if (!user.isMobile && !user?.token && isMobilePhone) {\n    return <Redirect to={routes.Auth.Login.path} />;\n  }\n\n  const formattedDate = moment(new Date(user?.last_login * 1000)).format(\n    'yyyy-MM-DD HH:mm:ss',\n  );\n\n  const firstName = !user?.data?.first_name\n    ? 'USER'\n    : user?.data?.first_name.slice(0, 1);\n\n  const lastName = !user?.data?.last_name\n    ? ''\n    : user?.data?.last_name.slice(0, 1);\n\n  const userStatusClasses = classNames('acc-status', {\n    'acc-status--unverified': sumsub?.status !== 1,\n    'acc-status--verified': sumsub?.status === 1,\n  });\n\n  const hiddenEmail = hideEmail(user?.email, 3);\n\n  const handleOpenSumSubModal = () => {\n    openModal(() => (\n      <ModalIframe\n        accessToken={token}\n        url={kycUrl || ''}\n        name=\"basic-kyc\"\n        email={user?.data?.email}\n        phone={user?.data?.phone || ''}\n        messages=\"\"\n      />\n    ));\n  };\n\n  return (\n    <section className=\"account-section\">\n      <div className=\"custom-container\">\n        <p className=\"block-main-title\">\n          {L.translate('Pages.Users.Verification.item1')}\n        </p>\n\n        <div className=\"account-wrap\">\n          <div className=\"account-box\">\n            <div className=\"account-top-panel\">\n              <div className=\"protect-personal\">\n                <p className=\"block-title\">\n                  {L.translate('Pages.Users.Verification.item2')}\n                </p>\n\n                <Link\n                  to={{\n                    pathname: routes.Static.PrivacyAndTerms.path,\n                    search: redirectLocation,\n                  }}\n                  className=\"protect-personal-btn\"\n                >\n                  <span className=\"d-flex protect-personal-btn__icon\">\n                    <svg\n                      width=\"17\"\n                      height=\"17\"\n                      viewBox=\"0 0 17 17\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                    >\n                      <path\n                        d=\"M16 7.81429V8.50429C15.9991 10.1216 15.4754 11.6953 14.507 12.9907C13.5386 14.286 12.1775 15.2336 10.6265 15.6922C9.07557 16.1508 7.41794 16.0957 5.90085 15.5352C4.38376 14.9747 3.08849 13.9389 2.20822 12.5821C1.32795 11.2253 0.909843 9.62034 1.01626 8.00653C1.12267 6.39271 1.7479 4.85654 2.79871 3.6271C3.84951 2.39766 5.26959 1.54083 6.84714 1.1844C8.42469 0.827975 10.0752 0.991046 11.5525 1.64929\"\n                        stroke=\"black\"\n                        strokeWidth=\"1.38\"\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                      />\n                      <path\n                        d=\"M16 2.50439L8.5 10.0119L6.25 7.76189\"\n                        stroke=\"#00D496\"\n                        strokeWidth=\"1.38\"\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                      />\n                    </svg>\n                  </span>\n                  {L.translate('Pages.Users.Verification.item3')}\n                  <span className=\"d-flex protect-personal-btn__arrow\">\n                    <svg\n                      width=\"7\"\n                      height=\"12\"\n                      viewBox=\"0 0 7 12\"\n                      fill=\"none\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                    >\n                      <path\n                        d=\"M1 11L6 6L1 1\"\n                        stroke=\"#080A0D\"\n                        strokeWidth=\"1.67107\"\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                      />\n                    </svg>\n                  </span>\n                </Link>\n              </div>\n\n              <div className={userStatusClasses}>{personStatus}</div>\n            </div>\n\n            <div className=\"account-user\">\n              <div className=\"account-user__name\">\n                <p>\n                  {firstName}\n                  {lastName}\n                </p>\n              </div>\n\n              <div className=\"account-user__info\">\n                <div className=\"acc-details\">\n                  <p className=\"acc-details__email\">{hiddenEmail}</p>\n                </div>\n\n                <div className=\"acc-extra\">\n                  <p>\n                    {L.translate('Pages.Users.Verification.item4')}{' '}\n                    {formattedDate}\n                  </p>\n\n                  <p>IP: {user?.data?.last_login_ip}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"account-box account-box--type2\">\n            <div className=\"account-box__title\">\n              <p className=\"block-title\">\n                {L.translate('Pages.Users.Verification.item5')}\n              </p>\n            </div>\n\n            <div className=\"account-item\">\n              <div className=\"account-item__main\">\n                <div className=\"account-info\">\n                  <div className=\"personal-info\">\n                    <div className=\"d-flex personal-info__icon\">\n                      <svg\n                        width=\"28\"\n                        height=\"28\"\n                        viewBox=\"0 0 28 28\"\n                        fill=\"none\"\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                      >\n                        <circle\n                          cx=\"14\"\n                          cy=\"14\"\n                          r=\"13\"\n                          stroke=\"#121214\"\n                          strokeWidth=\"2\"\n                        />\n                        <path\n                          d=\"M13.9998 13.2222C15.718 13.2222 17.1109 11.8293 17.1109 10.1111C17.1109 8.39289 15.718 7 13.9998 7C12.2816 7 10.8887 8.39289 10.8887 10.1111C10.8887 11.8293 12.2816 13.2222 13.9998 13.2222Z\"\n                          stroke=\"#2DDD9D\"\n                          strokeWidth=\"2\"\n                          strokeLinecap=\"round\"\n                          strokeLinejoin=\"round\"\n                        />\n                        <path\n                          d=\"M20.2223 20.2214V18.6658C20.2223 17.8407 19.8945 17.0494 19.3111 16.4659C18.7276 15.8825 17.9363 15.5547 17.1112 15.5547H10.8889C10.0638 15.5547 9.2725 15.8825 8.68906 16.4659C8.10561 17.0494 7.77783 17.8407 7.77783 18.6658V20.2214\"\n                          stroke=\"#2DDD9D\"\n                          strokeWidth=\"2\"\n                          strokeLinecap=\"round\"\n                          strokeLinejoin=\"round\"\n                        />\n                      </svg>\n                    </div>\n\n                    <p className=\"personal-info__title\">\n                      {L.translate('Pages.Users.Verification.item6')}\n                    </p>\n                  </div>\n\n                  {!sumsub && (\n                    <>\n                      <p className=\"account-info__title\">\n                        {L.translate('Pages.Users.Verification.item7')}\n                      </p>\n\n                      <div className=\"account-info__text\">\n                        • {L.translate('Pages.Users.Verification.item8')}\n                      </div>\n                    </>\n                  )}\n                </div>\n              </div>\n\n              <div className=\"account-item__action\">\n                <button\n                  className=\"button button--full\"\n                  type=\"button\"\n                  onClick={handleOpenSumSubModal}\n                >\n                  {L.translate('Pages.Users.Verification.item9')}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default Verification;\n","export default __webpack_public_path__ + \"static/media/closeIcon.07a86e17.svg\";"],"sourceRoot":""}